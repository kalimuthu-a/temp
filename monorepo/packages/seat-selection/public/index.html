<!DOCTYPE html>
<html lang="en" class="In6e2">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Seat Selection V2</title>
	<link rel="stylesheet" href="https://aem-s6web-dev-skyplus6e.goindigo.in/etc.clientlibs/skyplus6ev2/clientlibs/clientlib-dependencies.0eae6b29ae6f2a142fd8888b78016ffe.css">
	<link rel="stylesheet" href="https://app-design-system-s6web-dev-skyplus6e.goindigo.in/des-system/css/main.css">

	<!-- swiper cdns -->
	<link rel="stylesheet" href="https: //cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
	<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
	
	<!-- Auth token for Api's in local -->
	<style>
		body {
			margin: 0;
			background: #F2F9FF;
		}
		#__mf_seat_selection {
			max-width: 763px;
			margin: 90px auto 108px;
		}
		/* local header styles */
		header.seat-selection--local-header {
			background: #FFFFFF;
			height: 48px;
			position: fixed;
			top: 0;
			right: 0;
			left: 0;
			z-index: 1038;
			box-sizing: border-box;
			padding: 10px 45px;
			color: #000099;
			font-weight: bold;
			font-size: 1.5rem;
		}
		@media screen and (min-width: 768px) {
			header.seat-selection--local-header {
				height: 80px;
				font-size: 2.5rem;
			}
		}
		/* local custom event next button styles */
		div.seat-selection--local-footer {
			position: fixed;
			inset: auto 0 0 0;
			z-index: 98;
			background: #EDF0F7B8;
			box-shadow: 0px -12px 24px 0px #4C5D9E14;
			padding: 16px 64px 24px 64px;
			display: flex;
			align-items: center;
			justify-content: flex-end;
		}
		.seat-selection--local-footer > button,
		.seat-selection--local-addon > button{
			padding: 16px 56px 16px 56px;
			border-radius: 28px;
			background: #000099;
			color: #FFFFFF;
			font-size: 16px;
			font-weight: 500;
			line-height: 24px;
			text-align: center;
			cursor: pointer;
		}
	</style>
</head>

<body>
	<main id="__mf_seat_selection"></main>
	<!-- local header replicate -->
	<header class='seat-selection--local-header'>IndiGo</header>

	<!-- local custom event setup to replicate addon expand event -->
	<div class='seat-selection--local-addon'>
		<button id="localNextButton" onclick='dispatchEventToOpenMfFromAddon(this);'>Open Seat Selection</button>
	</div>

	<!-- local custom event setup to replicate next button from fare/review -->
	<div class='seat-selection--local-footer'>
		<button onclick='nextButtonClickEventDispatcher()' disabled>Next</button>
	</div>

	<script>
		// handling page refresh local purpose only
    const hashParam = window.location.hash?.substring(1);
    if (hashParam.includes('seat')) {
      document.getElementById('localNextButton').style.display = "none";
    };
		// local custom event setup to replicate addon expand event
		const dispatchEventToOpenMfFromAddon = (e) => {
			e.style.display = "none";
			const dispatchEventToOpenMf = (config) => new CustomEvent("MAKE_ME_EXPAND_V2", config);

			document.dispatchEvent(
				dispatchEventToOpenMf({
					bubbles: true,
					detail: {
						from: "addon",
						mfToOpen: "seat-selection",
					},
				})
			);
		}

		// local custom event setup to replicate next click from fare/review summary
		function nextButtonClickEventDispatcher() {
			const dispatchEventReview = (config) => new CustomEvent('ONCLICK_NEXT_FARE_SUMMARY_V2', config);

			document.dispatchEvent(
				dispatchEventReview({
					bubbles: true,
					detail: { open: true, from: 'reviewSummary' },
				}),
			);
		}

		// reading custom event for selected seats for local purpose which is sent to review/fare summary
		document.addEventListener('EVENT_SEATSELECTION_REVIEW_SUMMARY_TRIGGER', ({ detail }) => {
			console.log('--event read in local::::::data to RS', detail);
		});

		// reading custom event for back to add-On for local purpose
		document.addEventListener('MAKE_ME_EXPAND_V2', ({ detail }) => {
			console.log('--event read in local::::::redirect to add-On', detail);
			if (detail?.mfToOpen ==="addon") {
				document.getElementById('localNextButton').style.display = "block";
			}
		});
	</script>
</body>

</html>